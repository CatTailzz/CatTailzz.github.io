<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=60510&amp;path=livereload" data-no-instant defer></script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>NiFi SDKå¼€å‘æµç¨‹ - CatTail&#39;s Blog</title><meta name="author" content="CatTail">
<meta name="author-link" content="https://github.com/CatTailzz">
<meta name="description" content="éœ€æ±‚ å…¬å¸ä¸­å°éœ€è¦æ–°å¢æ•°æ®åŒæ­¥èƒ½åŠ›ï¼Œç»è¿‡è°ƒç ”é€‰æ‹©äº† Apache NiFi ï¼Œå®ƒå¯ä»¥é«˜æ•ˆæ–¹ä¾¿åœ°å®ç°æ•°æ®è®¢é˜…ã€æ•°æ®æµå¤„ç†ç­‰åŠŸèƒ½ã€‚å®ƒçš„ä¸€å¤§ä¼˜ç‚¹å°±æ˜¯æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥åœ¨æä¾›" /><meta name="keywords" content='NiFi' />
  <meta itemprop="name" content="NiFi SDKå¼€å‘æµç¨‹">
  <meta itemprop="description" content="éœ€æ±‚ å…¬å¸ä¸­å°éœ€è¦æ–°å¢æ•°æ®åŒæ­¥èƒ½åŠ›ï¼Œç»è¿‡è°ƒç ”é€‰æ‹©äº† Apache NiFi ï¼Œå®ƒå¯ä»¥é«˜æ•ˆæ–¹ä¾¿åœ°å®ç°æ•°æ®è®¢é˜…ã€æ•°æ®æµå¤„ç†ç­‰åŠŸèƒ½ã€‚å®ƒçš„ä¸€å¤§ä¼˜ç‚¹å°±æ˜¯æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥åœ¨æä¾›">
  <meta itemprop="datePublished" content="2024-07-08T14:12:18+08:00">
  <meta itemprop="dateModified" content="2024-07-08T14:12:18+08:00">
  <meta itemprop="wordCount" content="2354">
  <meta itemprop="keywords" content="NiFi"><meta property="og:url" content="http://localhost:60510/posts/nifi/fc45476/">
  <meta property="og:site_name" content="CatTail&#39;s Blog">
  <meta property="og:title" content="NiFi SDKå¼€å‘æµç¨‹">
  <meta property="og:description" content="éœ€æ±‚ å…¬å¸ä¸­å°éœ€è¦æ–°å¢æ•°æ®åŒæ­¥èƒ½åŠ›ï¼Œç»è¿‡è°ƒç ”é€‰æ‹©äº† Apache NiFi ï¼Œå®ƒå¯ä»¥é«˜æ•ˆæ–¹ä¾¿åœ°å®ç°æ•°æ®è®¢é˜…ã€æ•°æ®æµå¤„ç†ç­‰åŠŸèƒ½ã€‚å®ƒçš„ä¸€å¤§ä¼˜ç‚¹å°±æ˜¯æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥åœ¨æä¾›">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-08T14:12:18+08:00">
    <meta property="article:modified_time" content="2024-07-08T14:12:18+08:00">
    <meta property="article:tag" content="NiFi">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="NiFi SDKå¼€å‘æµç¨‹">
  <meta name="twitter:description" content="éœ€æ±‚ å…¬å¸ä¸­å°éœ€è¦æ–°å¢æ•°æ®åŒæ­¥èƒ½åŠ›ï¼Œç»è¿‡è°ƒç ”é€‰æ‹©äº† Apache NiFi ï¼Œå®ƒå¯ä»¥é«˜æ•ˆæ–¹ä¾¿åœ°å®ç°æ•°æ®è®¢é˜…ã€æ•°æ®æµå¤„ç†ç­‰åŠŸèƒ½ã€‚å®ƒçš„ä¸€å¤§ä¼˜ç‚¹å°±æ˜¯æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥åœ¨æä¾›">
<meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="http://localhost:60510/posts/nifi/fc45476/" /><link rel="prev" href="http://localhost:60510/posts/nifi/247fe3e/" /><link rel="next" href="http://localhost:60510/posts/devops/8100467/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "NiFi SDKå¼€å‘æµç¨‹",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/localhost:60510\/posts\/nifi\/fc45476\/"
    },"genre": "posts","keywords": "NiFi","wordcount":  2354 ,
    "url": "http:\/\/localhost:60510\/posts\/nifi\/fc45476\/","datePublished": "2024-07-08T14:12:18+08:00","dateModified": "2024-07-08T14:12:18+08:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "CatTail"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper" data-page-style="narrow"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper" >
    <div class="header-title">
      <a href="/" title="CatTail&#39;s Blog"><img loading="lazy" src="/icon/android-chrome-192x192.png" alt="CatTail&#39;s Blog" data-title="CatTail&#39;s Blog" width="26" height="26" class="logo" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span class="header-title-text">CatTail&#39;s Blog</span><span class="header-title-post">ğŸ˜‡</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li
          class="menu-item">
          <a class="menu-link" href="/posts/"  >æ–‡ç« </a></li><li
          class="menu-item">
          <a class="menu-link" href="/tags/"  >æ ‡ç­¾</a></li><li
          class="menu-item">
          <a class="menu-link" href="/categories/"  >åˆ†ç±»</a></li><li
          class="menu-item">
          <a class="menu-link" href="/about/"  >å…³äºæˆ‘</a></li><li class="menu-item delimiter"></li><li class="menu-item theme-switch" title="">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="CatTail&#39;s Blog"><img loading="lazy" src="/icon/android-chrome-192x192.png" alt="CatTail&#39;s Blog" data-title="CatTail&#39;s Blog" width="26" height="26" class="logo" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span class="header-title-text">CatTail&#39;s Blog</span><span class="header-title-post">ğŸ˜‡</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li
          class="menu-item"><a class="menu-link" href="/posts/"  >æ–‡ç« </a></li><li
          class="menu-item"><a class="menu-link" href="/tags/"  >æ ‡ç­¾</a></li><li
          class="menu-item"><a class="menu-link" href="/categories/"  >åˆ†ç±»</a></li><li
          class="menu-item"><a class="menu-link" href="/about/"  >å…³äºæˆ‘</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="">
            <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><nav aria-label="breadcrumb" class="breadcrumb-container sticky">
    <ol class="breadcrumb"><li class="breadcrumb-item"><a href="/" title="CatTail&#39;s Blog">ä¸»é¡µ</a></li><li class="breadcrumb-item"><a href="/posts/" title="Posts">æ–‡ç« </a></li><li class="breadcrumb-item active" aria-current="page">NiFi SDKå¼€å‘æµç¨‹</li>
    </ol>
  </nav><main class="container"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=""></aside>

<article class="page single">
  <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span>NiFi SDKå¼€å‘æµç¨‹</span>
    </h1></div><div class="post-meta">
    <div class="post-meta-line"><span class="post-author"><a href="https://github.com/CatTailzz" title="ä½œè€…"target="_blank" rel="external nofollow noopener noreferrer author" class="author"><img loading="lazy" src="/icon/android-chrome-192x192.png" alt="CatTail" data-title="CatTail" width="20" height="20" class="avatar" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/>&nbsp;CatTail</a></span><span class="post-included-in">&nbsp;æ”¶å½•äº <a href="/categories/nifi/" class="post-category" title="åˆ†ç±» - NiFI"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> NiFI</a></span></div><div class="post-meta-line"><span title="å‘å¸ƒäº &lt;no value&gt;"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2024-07-08">2024-07-08</time></span>&nbsp;<span title=""><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>çº¦ 2400 å­—</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>é¢„è®¡é˜…è¯» 5 åˆ†é’Ÿ</span>&nbsp;<span id="busuanzi_container_page_pv" class="busuanzi_visitors comment-visitors" data-flag-title="NiFi SDKå¼€å‘æµç¨‹">
        <i class="fa-regular fa-eye fa-fw me-1" aria-hidden="true"></i><span id="busuanzi_value_page_pv">-</span>&nbsp;æ¬¡é˜…è¯»
      </span>&nbsp;</div>

  </div><div class="details toc" id="toc-static"
    data-kept="false">
    <div class="details-summary toc-title">
      <span>ç›®å½•</span>
      <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
    </div>
    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#éœ€æ±‚">éœ€æ±‚</a></li>
    <li><a href="#nifi-api">NiFi API</a></li>
    <li><a href="#æƒé™æ ¡éªŒ">æƒé™æ ¡éªŒ</a></li>
    <li><a href="#èµ·åœæµç¨‹ç»„">èµ·åœæµç¨‹ç»„</a></li>
    <li><a href="#å°è£…ä¸ºsdk">å°è£…ä¸ºSDK</a></li>
    <li><a href="#ç»“è¯­">ç»“è¯­</a></li>
  </ul>
</nav></div>
  </div><div class="content" id="content"><h1 id="éœ€æ±‚" class="heading-element"><span>éœ€æ±‚</span>
  <a href="#%e9%9c%80%e6%b1%82" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h1><p>å…¬å¸ä¸­å°éœ€è¦æ–°å¢æ•°æ®åŒæ­¥èƒ½åŠ›ï¼Œç»è¿‡è°ƒç ”é€‰æ‹©äº† <code>Apache NiFi</code> ï¼Œå®ƒå¯ä»¥é«˜æ•ˆæ–¹ä¾¿åœ°å®ç°æ•°æ®è®¢é˜…ã€æ•°æ®æµå¤„ç†ç­‰åŠŸèƒ½ã€‚å®ƒçš„ä¸€å¤§ä¼˜ç‚¹å°±æ˜¯æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥åœ¨æä¾›çš„ UI ç•Œé¢ä¸Šå®Œæˆï¼Œä½†è¿™æ ·æ€»å½’æ˜¯æœ‰ä¸€äº›ä½¿ç”¨é—¨æ§›çš„ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸ºäº†é™ä½ä½¿ç”¨é—¨æ§›ï¼Œç°åœ¨çš„éœ€æ±‚æ˜¯å€ŸåŠ© <code>NiFi</code> æä¾›çš„ <code>REST API</code> å®ç°ä¸€ä¸ªç±»ä¼¼ <code>Client</code> çš„ <code>SDK</code> ï¼Œé›†æˆåˆ°å…¬å¸çš„ä¸­å°ï¼Œéœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>è‡ªåŠ¨å¯åŠ¨å’Œåœæ­¢æµç¨‹ç»„</li>
<li>ç»„ä»¶å¥åº·çŠ¶æ€æ£€æµ‹</li>
<li>æ—¥å¿—è®°å½•</li>
<li>å®šæ—¶ä»»åŠ¡å®ç°æ•°æ®è®¢é˜…</li>
<li>è¿ç§»å…¬å¸å†…éƒ¨ <code>OPEN API</code></li>
</ul>
<h1 id="nifi-api" class="heading-element"><span>NiFi API</span>
  <a href="#nifi-api" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h1><p>åœ¨å¦ä¸€ç‰‡æ–‡ç« æˆ‘ä»¬æåˆ°ï¼Œ<code>NiFi</code> å…è®¸å¼€å‘è€…é€šè¿‡è‡ªå®šä¹‰å¤„ç†å™¨æ¥å®ç°æ‰€æœ‰ç¼ºå¤±çš„åŠŸèƒ½ï¼š
[[NiFi-processorè‡ªå®šä¹‰å¼€å‘]] ã€‚è€Œç°åœ¨æˆ‘ä»¬å°†åˆ©ç”¨ <code>NiFi REST API</code> æ¥å®ç°å¯¹æµç¨‹ç»„çš„ç²¾ç»†åŒ–æ§åˆ¶ï¼Œå®ƒæä¾›äº†å¤§é‡çš„æ§åˆ¶æ–¹å¼ï¼š</p>
<p><img loading="lazy" src="https://obsidian-img-1300316500.cos.ap-shanghai.myqcloud.com/cattail/obsidian/pic/202407162344987.png" alt="image.png" srcset="https://obsidian-img-1300316500.cos.ap-shanghai.myqcloud.com/cattail/obsidian/pic/202407162344987.png?size=small, https://obsidian-img-1300316500.cos.ap-shanghai.myqcloud.com/cattail/obsidian/pic/202407162344987.png?size=medium 1.5x, https://obsidian-img-1300316500.cos.ap-shanghai.myqcloud.com/cattail/obsidian/pic/202407162344987.png?size=large 2x" data-title="image.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>ä»–ä»¬çš„æœ¬è´¨éƒ½æ˜¯ <code>URL</code> ï¼Œå¯ä»¥å®ç°æƒé™ã€å¤„ç†å™¨å’Œæµæ“ä½œã€ä¸­é—´é˜Ÿåˆ—ã€è¯Šæ–­ç­‰å¤šç§æ“ä½œï¼Œå¹¶ä¸” <code>NiFi</code> æœ¬èº«æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„å¤„ç†å™¨ <code>InvokeHTTP</code> ç”¨äºå¤„ç† http è¯·æ±‚ï¼Œåé¢æˆ‘ä»¬ä¼šä½¿ç”¨å®ƒæ¥è¿ç§»å…¬å¸ä»¥å‰çš„ <code>OPEN API</code> ï¼Œäº‹å®ä¸Šç»“åˆè¿™ä¸ªå¤„ç†å™¨å¯ä»¥æ„å»ºæ›´å¼ºå¤§çµæ´»çš„è‡ªåŠ¨åŒ–æ¡†æ¶ï¼Œä¸è¿‡æœ¬ç¯‡ä¸­æš‚æ—¶ç”¨ä¸åˆ°ï¼Œæˆ‘ä»¬å…ˆä»æœ€ç®€å•çš„æƒé™æ ¡éªŒå’Œæµç¨‹ç»„å¯åœå¼€å§‹ï¼Œå…¶ä»–åŠŸèƒ½ä¹Ÿæ˜¯å¤§åŒå°å¼‚ã€‚</p>
<h1 id="æƒé™æ ¡éªŒ" class="heading-element"><span>æƒé™æ ¡éªŒ</span>
  <a href="#%e6%9d%83%e9%99%90%e6%a0%a1%e9%aa%8c" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h1><div class="details admonition tip open">
    <div class="details-summary admonition-title">
      <i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden="true"></i>è§‚å‰æç¤º<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content">ä»¥ä¸‹å†…å®¹å¹¶æœªæ¬æŠ„ç›®å‰çš„æœ€ä½³å®è·µï¼Œå¦‚æœå®ç°æ–¹å¼ä¸Šæœ‰ä¸‘é™‹æˆ–ä»¤äººå›°æƒ‘çš„åœ°æ–¹ï¼Œæ¬¢è¿ä¸æˆ‘è®¨è®º</div>
    </div>
  </div>
<p>é¦–å…ˆï¼Œ<code>NiFi REST API</code> çš„è®¿é—®æ—¶éœ€è¦ç™»é™†ä»¤ç‰Œçš„ï¼Œå¯ä»¥é€šè¿‡ <code>[POST] /access/token</code> è·å–ï¼Œæºå¸¦ä¸Šç”¨æˆ·å/å¯†ç ï¼Œå¦‚æœæˆåŠŸåˆ™ä¼šè¿”å›ä»¤ç‰Œã€‚å…¶ä»–æ‰€æœ‰çš„è¯·æ±‚éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´æºå¸¦è¿™ä¸ªä»¤ç‰Œï¼Œå…·ä½“æ ¼å¼ä¸º <code>Authorization=Bearer:[ä»¤ç‰Œ]</code> ï¼Œå¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›APIçš„å‰ç¼€urlä¸º <code>https://&lt;nifi-server-ip&gt;:&lt;port&gt;/nifi-api</code> ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åœ¨å°è£… SDK æ—¶ï¼Œè¦æŠŠè¿™ä¸ªä»¤ç‰Œå½“ä½œ <code>session</code> å»ç»´æŠ¤å’Œæ£€æŸ¥ï¼Œè¿™é‡Œæˆ‘å¹¶æ²¡æœ‰ç”¨ AOP æˆ–è€…æ‹¦æˆªå™¨çš„æ–¹å¼å®ç°ï¼Œè€Œæ˜¯åœ¨å°è£…httpè¯·æ±‚çš„å·¥å…·æ–¹æ³•æ—¶é¡ºå¸¦æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œæˆ‘ä½¿ç”¨  <code>HttpClient</code> æ¥ç®¡ç†è¿æ¥ï¼Œå¹¶æŠŠæ‰€æœ‰çš„å…¬å…±æ–¹æ³•æŠ½è±¡åˆ°ä¸€ä¸ª <code>AbstractNifiClient</code> ç±»ä¸­ã€‚</p>
<p>ä¸‹é¢å…ˆä»‹ç»ä¸€ä¸‹è·å–ä»¤ç‰Œçš„é€»è¾‘ï¼Œç›¸å¯¹å…¶ä»–è¯·æ±‚ä¼šç‰¹æ®Šä¸€äº›</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">login</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">HttpPost</span><span class="w"> </span><span class="n">post</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpPost</span><span class="p">(</span><span class="n">nifiUrl</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">LOGIN_ENDPOINT</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">StringEntity</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringEntity</span><span class="p">(</span><span class="s">&#34;username=&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;&amp;password=&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">password</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">entity</span><span class="p">.</span><span class="na">setContentType</span><span class="p">(</span><span class="s">&#34;application/x-www-form-urlencoded&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">post</span><span class="p">.</span><span class="na">setEntity</span><span class="p">(</span><span class="n">entity</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">post</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Host&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">customHost</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">logRequestHeaders</span><span class="p">(</span><span class="n">post</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">CloseableHttpClient</span><span class="w"> </span><span class="n">httpClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createHttpClient</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">CloseableHttpResponse</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">httpClient</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="n">post</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="kt">int</span><span class="w"> </span><span class="n">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getStatusLine</span><span class="p">().</span><span class="na">getStatusCode</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">statusCode</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">200</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">statusCode</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">201</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&#34;Failed to login. HTTP Status Code: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">String</span><span class="w"> </span><span class="n">responseString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EntityUtils</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getEntity</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">this</span><span class="p">.</span><span class="na">accessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">responseString</span><span class="p">.</span><span class="na">trim</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">this</span><span class="p">.</span><span class="na">tokenExpiryTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">3600</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">6</span><span class="p">;</span><span class="w"> </span><span class="c1">// å‡è®¾ token æœ‰æ•ˆæœŸä¸º 1 å°æ—¶</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&#34;Failed to login&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&#34;Failed to login&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">httpClient</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä½¿ç”¨äº† <code>httpClient</code> çš„å¸¸è§„ä½¿ç”¨æ–¹å¼ï¼Œåœ¨è·å–åˆ°ä»¤ç‰Œåï¼Œå¯¹äºå…¶ä»–çš„httpè¯·æ±‚å¯ä»¥è¿›ä¸€æ­¥å°è£…è¯·æ±‚å’Œå“åº”ï¼Œç®€åŒ–ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="n">CloseableHttpClient</span><span class="w"> </span><span class="nf">createHttpClient</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">SSLContext</span><span class="w"> </span><span class="n">sslContext</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">sslContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SSLContextBuilder</span><span class="p">.</span><span class="na">create</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="p">.</span><span class="na">loadTrustMaterial</span><span class="p">((</span><span class="n">chain</span><span class="p">,</span><span class="w"> </span><span class="n">authType</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="p">.</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KeyManagementException</span><span class="p">(</span><span class="s">&#34;Failed to create SSL context&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">SSLConnectionSocketFactory</span><span class="w"> </span><span class="n">sslSocketFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SSLConnectionSocketFactory</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="n">sslContext</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="n">NoopHostnameVerifier</span><span class="p">.</span><span class="na">INSTANCE</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">HttpClients</span><span class="p">.</span><span class="na">custom</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="p">.</span><span class="na">setSSLSocketFactory</span><span class="p">(</span><span class="n">sslSocketFactory</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="p">.</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">protected</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">executeRequest</span><span class="p">(</span><span class="n">HttpUriRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">JsonResponseHandler</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">handler</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">ensureLoggedIn</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">request</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Authorization&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Bearer &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">accessToken</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">request</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Host&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">customHost</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">logRequestHeaders</span><span class="p">(</span><span class="n">request</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">CloseableHttpClient</span><span class="w"> </span><span class="n">httpClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createHttpClient</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">CloseableHttpResponse</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">httpClient</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="n">request</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="kt">int</span><span class="w"> </span><span class="n">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getStatusLine</span><span class="p">().</span><span class="na">getStatusCode</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">403</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="c1">// é‡æ–°ç™»å½•å¹¶é‡è¯•è¯·æ±‚</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="n">login</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="n">request</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Authorization&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Bearer &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">accessToken</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="n">request</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Host&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">customHost</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">CloseableHttpResponse</span><span class="w"> </span><span class="n">retryResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">httpClient</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="n">request</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">					</span><span class="k">return</span><span class="w"> </span><span class="n">handleResponse</span><span class="p">(</span><span class="n">retryResponse</span><span class="p">,</span><span class="w"> </span><span class="n">handler</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">				</span><span class="k">return</span><span class="w"> </span><span class="n">handleResponse</span><span class="p">(</span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">handler</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="n">httpClient</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&#34;Exception occurred during request execution&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">handleResponse</span><span class="p">(</span><span class="n">CloseableHttpResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">JsonResponseHandler</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">handler</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kt">int</span><span class="w"> </span><span class="n">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getStatusLine</span><span class="p">().</span><span class="na">getStatusCode</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">statusCode</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&#34;Failed to execute request. HTTP Status Code: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">statusCode</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; Reason: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getStatusLine</span><span class="p">().</span><span class="na">getReasonPhrase</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">String</span><span class="w"> </span><span class="n">responseString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EntityUtils</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getEntity</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">ObjectMapper</span><span class="w"> </span><span class="n">mapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ObjectMapper</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">JsonNode</span><span class="w"> </span><span class="n">rootNode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">readTree</span><span class="p">(</span><span class="n">responseString</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">handler</span><span class="p">.</span><span class="na">handle</span><span class="p">(</span><span class="n">rootNode</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><div class="details admonition warning open">
    <div class="details-summary admonition-title">
      <i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden="true"></i>é‡è¦å‘ç‚¹ï¼<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content"><p>è¿™é‡Œå…³äºè¿æ¥çš„ç®¡ç†ï¼Œå¾ˆå¤šäººä¼šæƒ³åˆ°è¿æ¥å¤ç”¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è°ƒç”¨è¯·æ±‚éƒ½ç”Ÿæˆä¸€ä¸ªhttpclientå®ä¾‹ã€‚æˆ‘ä¸€å¼€å§‹ä¹Ÿè¿™ä¹ˆåšäº†ï¼Œç»“æœåœ¨ä¸€ä¸ªã€ç™»é™†è¯·æ±‚ã€‘-ã€è·å–çŠ¶æ€ã€‘-ã€ä¿®æ”¹çŠ¶æ€ã€‘é“¾è·¯çš„ç¬¬ä¸‰æ­¥å‡ºç°äº†403 Forbiddenã€‚ç»è¿‡SSLã€æƒé™é…ç½®ã€ä»£ç å›æ»šç­‰å„ç§æ’æŸ¥ï¼Œæœ€åå‘ç°ç«Ÿç„¶æ˜¯httpclientå¤ç”¨çš„é—®é¢˜ï¼Ÿ</p>
<p>å…¶å®ä¹Ÿå’Œæˆ‘è‡ªå·±çš„è®¾è®¡æœ‰å…³ç³»ï¼Œæˆ‘åœ¨ä¿®æ”¹ä¸€ä¸ªæµç¨‹ç»„çš„çŠ¶æ€æ—¶ï¼Œæ˜¯é€šè¿‡ä¿®æ”¹æµç¨‹ç»„å†…æ‰€æœ‰çš„å¤„ç†å™¨çŠ¶æ€æ¥å®ç°çš„ï¼Œç›¸å½“äºä¸€ä¸ªforå¾ªç¯å»æ“ä½œï¼Œè€Œhttpclientåˆæ˜¯å¤ç”¨çš„ï¼Œåœ¨å¼‚æ­¥çš„æ—¶å€™å°±ä¼šå¯¼è‡´èµ„æºç«äº‰å’Œæ··æ·†ï¼Œæœ€åè¡¨ç°çš„ç»“æœå°±æ˜¯æŸä¸ªhttpclientä¸¢å¤±äº†ä»¤ç‰Œå¤´ï¼Œå¯¼è‡´äº†403 Forbiddenã€‚åœ¨ç¡®å®šé—®é¢˜åï¼ŒæŠŠå¤ç”¨æ”¹ä¸ºäº†æ¯æ¬¡è¯·æ±‚åˆ›å»ºï¼Œå¹¶åœ¨finally closeæ‰ï¼ŒæˆåŠŸè§£å†³äº†é—®é¢˜ã€‚</p>
</div>
    </div>
  </div>
<h1 id="èµ·åœæµç¨‹ç»„" class="heading-element"><span>èµ·åœæµç¨‹ç»„</span>
  <a href="#%e8%b5%b7%e5%81%9c%e6%b5%81%e7%a8%8b%e7%bb%84" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h1><p>å…³äºæµç¨‹ç»„çš„å¯åŠ¨å’Œåœæ­¢æˆ‘å¹¶æ²¡æœ‰æ‰¾åˆ°ç›´æ¥çš„ API ï¼Œä½†æ˜¯æœ‰å¤„ç†å™¨çš„çŠ¶æ€å˜æ›´ API ï¼Œæˆ‘æœ€ç»ˆå€ŸåŠ©ä»¥ä¸‹å‡ ä¸ªè¯·æ±‚æ¥å®ç°ï¼š</p>
<ul>
<li><code>[GET] /flow/process-groups/{id}</code> è·å–æµç¨‹ç»„å®ä½“ JSONï¼Œå¯è§£æå‡ºä¸‹å±æ‰€æœ‰å¤„ç†å™¨ id</li>
<li><code>[PUT] /processors/{id}/run-status</code> ä¿®æ”¹å¤„ç†å™¨çŠ¶æ€</li>
<li><code>[GET] /processors/{id}</code>  è·å–å¤„ç†å™¨å®ä½“JSON</li>
</ul>
<p>è¿™é‡Œå¯¹äºå¦‚ä½•ä» JSON ä¸­è§£æå‡ºå¤„ç†å™¨ id ä¸åšèµ˜è¿°ï¼Œå…¶å®åŸºæœ¬æ‰€æœ‰éœ€è¦çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æŠ¥é”™æ—¥å¿—ã€å®šæ—¶ä»»åŠ¡ç­‰éƒ½å¯ä»¥ä»è¿™ä¸ªå®ä½“ JSON ä¸­è·å–åˆ°ã€‚</p>
<p>å½“æˆ‘ä»¬è·å–åˆ°äº†å…·ä½“å¤„ç†å™¨çš„ idï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–å…³æ³¨ä¸€ä¸ªå±æ€§ version ç‰ˆæœ¬å·ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯ä¸€è‡´æ€§çš„é”æœºåˆ¶ï¼Œæ–¹ä¾¿è¿½è¸ªå¤„ç†å™¨é…ç½®çš„ä¿®æ”¹å†å²ã€‚å¯¹äºçŠ¶æ€ä¿®æ”¹æ“ä½œæ¥è¯´ï¼Œæˆ‘ä»¬åªè¦åœ¨è¯·æ±‚ä½“å¸¦ä¸Š version å¹¶ä¿è¯å’Œè¿œç«¯çš„ version ä¸€è‡´å³å¯ï¼Œä¸‹é¢æ˜¯å…·ä½“å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="c1">// è·å–æµç¨‹ç»„ä¸­çš„å¤„ç†å™¨</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonNode</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getProcessors</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">processGroupId</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getNifiUrl</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">PROCESS_GROUPS_ENDPOINT</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">processGroupId</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">HttpGet</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpGet</span><span class="p">(</span><span class="n">url</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">executeRequest</span><span class="p">(</span><span class="n">get</span><span class="p">,</span><span class="w"> </span><span class="n">rootNode</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonNode</span><span class="o">&gt;</span><span class="w"> </span><span class="n">processors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">rootNode</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;processGroupFlow&#34;</span><span class="p">).</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;flow&#34;</span><span class="p">).</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;processors&#34;</span><span class="p">).</span><span class="na">forEach</span><span class="p">(</span><span class="n">processors</span><span class="p">::</span><span class="n">add</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">processors</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä¿®æ”¹å¤„ç†å™¨çŠ¶æ€</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateProcessorState</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">processorId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getNifiUrl</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">PROCESSORS_ENDPOINT</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">processorId</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;/run-status&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">HttpPut</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpPut</span><span class="p">(</span><span class="n">url</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">put</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Authorization&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Bearer &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">getAccessToken</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">put</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">&#34;Content-Type&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;application/json&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kt">int</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getCurrentProcessorVersion</span><span class="p">(</span><span class="n">processorId</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;{\&#34;revision\&#34;:{\&#34;version\&#34;:&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;},\&#34;state\&#34;:\&#34;&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;\&#34;}&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">put</span><span class="p">.</span><span class="na">setEntity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">StringEntity</span><span class="p">(</span><span class="n">json</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">executeRequest</span><span class="p">(</span><span class="n">put</span><span class="p">,</span><span class="w"> </span><span class="n">rootNode</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Processor state updated successfully&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// è·å–å¤„ç†å™¨ç‰ˆæœ¬å·</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getCurrentProcessorVersion</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">processorId</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getNifiUrl</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">PROCESSORS_ENDPOINT</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">processorId</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">HttpGet</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpGet</span><span class="p">(</span><span class="n">url</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//        get.setHeader(&#34;Authorization&#34;, &#34;Bearer &#34; + getAccessToken());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">executeRequest</span><span class="p">(</span><span class="n">get</span><span class="p">,</span><span class="w"> </span><span class="n">rootNode</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">			</span><span class="n">rootNode</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;revision&#34;</span><span class="p">).</span><span class="na">get</span><span class="p">(</span><span class="s">&#34;version&#34;</span><span class="p">).</span><span class="na">asInt</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>ä»ä»£ç ä¸­èƒ½å‘ç°è¯·æ±‚æ–¹æ³•å°è£…çš„å¥½å¤„ï¼Œéå¸¸ç®€çº¦ä¼˜é›…ï¼ŒæŠŠç»“æœå¤„ç†çš„æ–¹æ³•é€šè¿‡ lambda å†™å…¥ï¼Œå¯ä»¥å¿«é€Ÿå¯¹å“åº”çš„JSONåšå¤„ç†ã€‚</p>
<h1 id="å°è£…ä¸ºsdk" class="heading-element"><span>å°è£…ä¸ºSDK</span>
  <a href="#%e5%b0%81%e8%a3%85%e4%b8%basdk" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h1><pre tabindex="0"><code>.
â”œâ”€â”€ java
â”‚Â Â  â””â”€â”€ com
â”‚Â Â      â””â”€â”€ nifi
â”‚Â Â          â”œâ”€â”€ NifiApplication.java
â”‚Â Â          â”œâ”€â”€ client
â”‚Â Â          â”‚Â Â  â”œâ”€â”€ AbstractNifiClient.java
â”‚Â Â          â”‚Â Â  â”œâ”€â”€ Constants.java
â”‚Â Â          â”‚Â Â  â”œâ”€â”€ NifiClient.java
â”‚Â Â          â”‚Â Â  â””â”€â”€ NifiClientTest.java
â”‚Â Â          â”œâ”€â”€ config
â”‚Â Â          â”‚Â Â  â””â”€â”€ NifiAutoConfiguration.java
â”‚Â Â          â”œâ”€â”€ contorller
â”‚Â Â          â”‚Â Â  â””â”€â”€ AccessController.java
â”‚Â Â          â”œâ”€â”€ exception
â”‚Â Â          â”‚Â Â  â””â”€â”€ NifiClientException.java
â”‚Â Â          â”œâ”€â”€ service
â”‚Â Â          â”‚Â Â  â””â”€â”€ NifiService.java
â”‚Â Â          â”œâ”€â”€ utils
â”‚Â Â          â”‚Â Â  â””â”€â”€ ProcessGroupStateSerializer.java
â”‚Â Â          â””â”€â”€ vo
â”‚Â Â              â”œâ”€â”€ ProcessGroupInfo.java
â”‚Â Â              â”œâ”€â”€ ProcessGroupState.java
â”‚Â Â              â”œâ”€â”€ ResponseVo.java
â”‚Â Â              â”œâ”€â”€ RunningState.java
â”‚Â Â              â””â”€â”€ StatusDetail.java
â””â”€â”€ resources
    â”œâ”€â”€ META-INF
    â”‚Â Â  â””â”€â”€ spring.factories
    â””â”€â”€ application.properties</code></pre><p>ç”±äºæ¶‰åŠåˆ°å’Œå¹³å°ä¸šåŠ¡æ–¹çš„å¯¹æ¥ï¼Œå¾ˆå¤šç»†èŠ‚ä¸åšå±•ç¤ºï¼Œæ ¸å¿ƒä»£ç å°±æ˜¯åœ¨ <code>AbstractNifiClient</code> ä¸­å®ç°ç™»é™†é€»è¾‘å’Œè¯·æ±‚å“åº”æ–¹æ³•çš„å°è£…ï¼Œåœ¨ <code>NifiClient</code> ä¸­å®ç°å…·ä½“çš„APIæ“ä½œï¼Œåœ¨ <code>NifiService</code> ä¸­æ ¹æ®éœ€è¦çš„ä»»åŠ¡åšä¸€äº›æœåŠ¡ç¼–æ’ï¼Œè¿™é‡Œé¢å¤–å®ç°äº†ä¸€äº›ç»„ä»¶çŠ¶æ€æ£€æµ‹ã€æ—¥å¿—è®°å½•çš„èƒ½åŠ›ï¼Œå…¶å®éƒ½æ˜¯å¤§åŒå°å¼‚ã€‚</p>
<p>æœ€åä»¥ <code>Spring Boot Starter</code> çš„æ–¹å¼åˆ›å»º <code>NifiAutoConfiguration</code> é…ç½®ç±»ï¼Œåœ¨å…ƒæ•°æ®æ–‡ä»¶ä¸­æŒ‡åé…ç½®ç±»å…¥å£ï¼Œæœ€åæ‰“åŒ…å³å¯ã€‚</p>
<h1 id="ç»“è¯­" class="heading-element"><span>ç»“è¯­</span>
  <a href="#%e7%bb%93%e8%af%ad" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h1><p>æœ¬æ–‡æ€»ç»“å¹¶å®ç°äº† <code>NiFi REST API</code> çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼äº†ï¼Œå¹¶æŠŠ NiFi å¼ºå¤§çš„æ•°æ®æµå¤„ç†èƒ½åŠ›ä»¥ä¸€ç§æ›´åŠ ç”¨æˆ·å‹å¥½çš„æ–¹å¼å°è£…ä¸ºäº†SDKä¾›å¤–éƒ¨ä½¿ç”¨ï¼Œæœªæ¥ä¹Ÿä¼šä¸æ–­æ‰©å±•å’Œä¼˜åŒ–è¿™ä¸ªSDKï¼Œä»¥æ»¡è¶³æ›´å¤šçš„ä¸šåŠ¡åœºæ™¯å’ŒæŒ‘æˆ˜ã€‚</p>
<p>æœ€åï¼Œæ¬¢è¿æµè§ˆ <a href="https://github.com/CatTailzz/nifi-sdk"target="_blank" rel="external nofollow noopener noreferrer">æœ¬é¡¹ç›®ä»£ç ä»“åº“</a> ã€‚</p>
</div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="æ›´æ–°äº 2024-07-08 14:12:18">æ›´æ–°äº 2024-07-08&nbsp;</span>
      </div><div class="post-info-license">
            <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a></span>
          </div></div><div class="post-info-line">
        <div class="post-info-md"></div>
        <div class="post-info-share">
          <span></span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/nifi/" class="post-tag" title="æ ‡ç­¾ - NiFi">NiFi</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
    </section>
  </div>

  <div class="post-nav"><a href="/posts/nifi/247fe3e/" class="post-nav-item" rel="prev" title="NiFi Processorè‡ªå®šä¹‰å¼€å‘ï¼šä»é›¶å¼€å§‹åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ä¸ªProcessor"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>NiFi Processorè‡ªå®šä¹‰å¼€å‘ï¼šä»é›¶å¼€å§‹åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ä¸ªProcessor</a>
      <a href="/posts/devops/8100467/" class="post-nav-item" rel="next" title="ä½¿ç”¨K8sJavaClientç›‘æ§é…ç½®æ–‡ä»¶ï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²">ä½¿ç”¨K8sJavaClientç›‘æ§é…ç½®æ–‡ä»¶ï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div class="post-reward">
    <div class="comment">ç‹ ç‹ å¥–åŠ±æˆ‘ğŸ¥º</div>
    <input type="checkbox" class="reward-input" name="reward" id="fi-reward" hidden />
    <label class="reward-button" for="fi-reward"><i class="fa-solid fa-qrcode fa-fw" aria-hidden="true"></i>èµèµ</label>
    <div class="reward-ways" data-mode="static"><div><img loading="lazy" src="/images/alipay.png" alt="CatTail æ”¯ä»˜å®" data-title="CatTail æ”¯ä»˜å®" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span>æ”¯ä»˜å®</span>
          </div><div><img loading="lazy" src="/images/wechatpay.png" alt="CatTail å¾®ä¿¡" data-title="CatTail å¾®ä¿¡" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span>å¾®ä¿¡</span>
          </div></div>
  </div></article>

<aside class="toc" id="toc-auto" aria-label=""><h2 class="toc-title">ç›®å½•&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
  <div
    class="toc-content"
    id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2024</span><span class="author" itemprop="copyrightHolder">
              <a href="https://github.com/CatTailzz"target="_blank" rel="external nofollow noopener noreferrer">CatTail</a></span></div><div class="footer-line visitor">
          <span id="busuanzi_container_site_uv" title='æ€»è®¿å®¢æ•°'><i class="fa-regular fa-user fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span><span id="busuanzi_container_site_pv" class="footer-divider" title='æ€»è®¿é—®é‡'><i class="fa-regular fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span>
        </div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="å›åˆ°é¡¶éƒ¨"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">è¯¥ç½‘ç«™åœ¨å¯ç”¨ JavaScript çš„æƒ…å†µä¸‹æ•ˆæœæœ€ä½³ã€‚</div>
  </noscript>
</div><link rel="preload" href="/lib/katex/katex.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/katex/katex.min.css"></noscript><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async defer></script><script>window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":9999},"comment":{"enable":false},"cookieconsent":{"content":{"dismiss":"åŒæ„","link":"äº†è§£æ›´å¤š","message":"æœ¬ç½‘ç«™ä½¿ç”¨ Cookies æ¥æ”¹å–„æ‚¨çš„æµè§ˆä½“éªŒã€‚"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"version":"v0.3.8"};</script><script src="/js/theme.min.js" defer></script></body>
</html>
